#import "../funkcije.typ": todo
= Увод
<увод>

Савремени софтверски системи све више усвајају архитектуре засноване на микросервисима, пре свега због скалабилности, лакшег развоја, независног распоређивања компоненти и могућности бржег одговора на промене у пословној логици @richardson2018 @newman2015. У таквим архитектурама укупна функционалност система је распарчана на велики број малих, независних сервиса који међусобно комуницирају преко мрежних протокола. Иако сваки сервис представља самосталну јединицу, њихове међусобне зависности и комуникациони токови значајно повећавају комплексност система у односу на монолитне архитектуре @fowler2014. Под овим условима и краткотрајни откази, успорени одговори или делимичне деградације појединих компоненти могу имати видљив утицај на функционалност читавог система.

Један од кључних изазова у дистрибуираним архитектурама јесте чињеница да сервис може формално бити жив (енгл. _alive_), док у стварности није у стању да обрађује корисничке захтеве било због засићења ресурса, неконзистентног иницијалног стања или других облика делимичних отказа @tanenbaum2017 @kleppmann2017. Ова појава, позната као делимичан отказ (енгл. _partial failure_), представља један од најчешћих узрока нестабилности у дистрибуираним системима @nygard2018. Управо због тога постоји потреба за механизмима који непрекидно прате здравље сервиса (енгл. _health-check_), детектују неправилности у раду система и омогућавају правовремене реакције система у циљу очувања стабилности.

Иако _Kubernetes_ поседује уграђене механизме за _health-check_ провере, они су доступни искључиво у _Kubernetes_ окружењима @kubernetes_probes и тешко их је прилагодити специфичним захтевима система. Чак и у случајевима када се _Kubernetes_ користи, ови механизми имају ограничења у погледу прилагодљивости логике провера, проширивости и интеграције са спољним системима @burns2018. Због тога постоји потреба за независним, конфигурабилним радним окружењем (енгл. _framework_) који омогућава сопствене типове провера здравља и већу контролу над понашањем система, без обзира на окружење у којем се апликације извршавају.

Потребно је направити _framework_ који омогућава паралелно праћење стања више сервиса. Оно треба да обезбеди подршку различитих типова провера као што су покретање (енгл. _startup_), спремност (енгл. _readiness_) и конкурентност (енгл. _liveness_), као и различитих комуникационих протокола, попут _HTTP_, _TCP_ и _gRPC_ @kubernetes_probes. Осим самог извођења провера, неопходно је обезбедити модел стања који на јасан начин описује тренутну исправност сервиса, као и механизме за аутоматизовано реаговање, попут поновног покретања контејнера, евидентирања догађаја и излагања метрика системима за надзор (енгл. _monitoring_). Централизована конфигурација помоћу _YAML_ формата додатно олакшава употребу _framework_-а и његову интеграцију у различита окружења.

Циљ овог рада јесте развој самосталног _health-check_ _framework_-а који омогућава унифицирано праћење исправности сервиса у дистрибуираним системима. Развијено решење подржава _startup_, _readiness_ и _liveness_ логике провера, ради са _HTTP_, _TCP_ и _gRPC_ протоколима, извршава провере конкурентно, излаже метрике у _Prometheus_ формату и омогућава конфигурацију преко _YAML_ датотека. Поред тога, _framework_ се интегрише са _Docker runtime_-ом ради аутоматизованих реакција на отказе сервиса.

#pagebreak()

== Структура рада

Рад је организован у више тематских целина које почињу теоријским основама, а завршавају се конкретном имплементацијом развијеног _framework_-а.

Друго поглавље представља теоријске концепте неопходне за разумевање проблема и контекста у коме _framework_ функционише. У њему су обрађени темељи контејнеризације, микросервисних архитектура, дистрибуираних система, механизама провере здравља и основа надгледања (енгл. _observability_), уз осврт на изазове који прате ове технологије.

Треће поглавље дефинише функционалне и нефункционалне захтеве система, формулишући шта _framework_ мора да обезбеди, која ограничења треба да испуни и које карактеристике се очекују у погледу перформанси, стабилности и проширивости.

У четвртом поглављу дата је архитектура предложеног решења. Приказана је организациона структура компоненти, модели стања, механизми конкурентног извршавања провера и начин на који _framework_ обрађује и реагује на различита стања сервиса.

Пето поглавље описује имплементацију система. Представљена је реализација појединачних врста провера (енгл. _probes_), подршка за _HTTP_, _TCP_ и _gRPC_ протоколе, начин излагања метрика и интеграција са _Docker_ окружењем у циљу аутоматске реакције на отказе.

Рад се завршава у шестом поглављу, које садржи закључак и предлог могућих праваца даљег развоја _framework_-а у пракси.